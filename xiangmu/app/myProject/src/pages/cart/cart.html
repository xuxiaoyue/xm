<!--
  Generated template for the CartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>cart</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <!--购物车列表为空-->
  <div *ngIf="myList.length==0" style="text-align:center">
    <img src="http://localhost/xiangmu/app/ajia_code/ajia_code/img/404/404_img2.png" alt="">
    <h3>购物车还是空的</h3>
    <button ion-button color="secondary" block>逛逛去</button>
  </div>
  <!--购物车列表不为空-->
  <ion-list>
     <ion-item-sliding *ngFor="let tmp of myList;let myIndex=index">
      <ion-item>
       <ion-checkbox item-start [(ngModel)]='tmp.isSelected' (ngModelChange)="operateOne()"> </ion-checkbox> 
         <ion-thumbnail item-end>
           <ion-grid>
             <ion-row>
                <ion-col col-3> <img [src]="'http://localhost/xiangmu/app/ajia_code/ajia_code/'+tmp.pic" alt=""></ion-col>
                <ion-col>
                  <h4>{{tmp.title}}</h4>
                  <p>{{tmp.price}}</p>
                  <button (click)="modifyCount(false, myIndex)">-</button>
                  <span>{{tmp.count}}</span>
                  <button  (click)="modifyCount(true, myIndex)">+</button>
                </ion-col>
             </ion-row>
           </ion-grid>
           
          </ion-thumbnail>
        
        </ion-item>     
      <ion-item-options side="right">
           <button ion-button color="danger" (click)=" delete(myIndex)">删除</button>
      </ion-item-options>  
     </ion-item-sliding> 
  </ion-list>
</ion-content>
<ion-footer>
    <ion-grid>
       <ion-row align-items-center>
           <ion-col col-2>
              <ion-checkbox [(ngModel)]="isAllSelected" (ngModelChange)="operateAll()"></ion-checkbox>
           </ion-col> 
           <ion-col style="text-align:left;">全选  当前合计{{calcAll()}}</ion-col>
           <ion-col><button ion-button (click)="jump()" block>去结算</button></ion-col>
       </ion-row> 
    </ion-grid> 
 </ion-footer>